{"version":3,"sources":["webpack:///./src/axios/index.js","webpack:///src/pages/locate/Location.vue","webpack:///./src/pages/locate/Location.vue?7dbf","webpack:///./src/pages/locate/Location.vue","webpack:///./src/pages/locate/location.js"],"names":["__WEBPACK_IMPORTED_MODULE_0_vue__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","n","Vue","prototype","$axios","axios","__webpack_exports__","Location","name","components","data","showErr","latitude","longitude","err","methods","getLocation","_this","this","$getLocation","then","res","console","warn","lat","lng","catch","error","navigator","geolocation","getCurrentPosition","showPosition","showError","log","position","coords","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","locate_Location","render","_vm","_h","$createElement","_c","_self","staticStyle","margin","attrs","round","block","type","on","click","$event","_v","title","scopedSlots","_u","key","fn","_s","proxy","_e","staticRenderFns","pages_locate_Location","normalizeComponent","use","vueCookies","Vant","h","$mount"],"mappings":"2EAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAA,QAAAE,EAAAF,EAAAG,EAAAF,GAMAG,IAAIC,UAAUC,OAASC,IACRC,EAAA,kKC6BfC,wBACAC,KAAA,OACAC,cACAC,KAHA,WAIA,OACAC,SAAA,EACAC,SAAA,GACAC,UAAA,GACAC,IAAA,KASAC,SACAC,YADA,WACA,IAAAC,EAAAC,KACAA,KAAAC,eACAC,KAAA,SAAAC,GACAC,QAAAC,KAAA,WAAAF,GACAJ,EAAAL,SAAAS,EAAAG,IACAP,EAAAJ,UAAAQ,EAAAI,MAGAC,MAAA,SAAAZ,GACAQ,QAAAK,MAAA,WAAAb,KAKAc,UAAAC,YACAD,UAAAC,YAAAC,mBACAZ,KAAAa,aACAb,KAAAc,YAGAd,KAAAJ,IAAA,gDACAQ,QAAAW,IAAA,aACAf,KAAAP,SAAA,IAGAoB,aA1BA,SA0BAG,GACAhB,KAAAN,SAAAsB,EAAAC,OAAAvB,SACAM,KAAAL,UAAAqB,EAAAC,OAAAtB,UACAK,KAAAP,SAAA,GAGAqB,UAhCA,SAgCAL,GACA,OAAAA,EAAAS,MACA,KAAAT,EAAAU,kBACAf,QAAAW,IAAA,4CACAf,KAAAJ,IAAA,WACA,MACA,KAAAa,EAAAW,qBACAhB,QAAAW,IAAA,wCACAf,KAAAJ,IAAA,WACA,MACA,KAAAa,EAAAY,QACAjB,QAAAW,IAAA,+CACAf,KAAAJ,IAAA,SACA,MACA,KAAAa,EAAAa,cACAlB,QAAAW,IAAA,8BACAf,KAAAJ,IAAA,SAGAI,KAAAP,SAAA,MCrGe8B,GADEC,OAFP,WAAgB,IAAAC,EAAAzB,KAAa0B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,aAAaC,OAAA,UAAiBH,EAAA,cAAmBI,OAAOC,MAAA,GAAAC,MAAA,GAAAC,KAAA,QAAoCC,IAAKC,MAAA,SAAAC,GAAyB,OAAAb,EAAA3B,kBAA2B2B,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAX,EAAA,kBAAAA,EAAA,YAAuEI,OAAOQ,MAAA,MAAaC,YAAAhB,EAAAiB,KAAsBC,IAAA,UAAAC,GAAA,WAA4B,OAAAhB,EAAA,QAAAH,EAAAc,GAAAd,EAAAoB,GAAApB,EAAA/B,eAAmDoD,OAAA,OAAerB,EAAAc,GAAA,KAAAX,EAAA,YAA6BI,OAAOQ,MAAA,MAAaC,YAAAhB,EAAAiB,KAAsBC,IAAA,UAAAC,GAAA,WAA4B,OAAAhB,EAAA,QAAAH,EAAAc,GAAAd,EAAAoB,GAAApB,EAAA9B,gBAAoDmD,OAAA,OAAerB,EAAAc,GAAA,KAAAd,EAAA,QAAAG,EAAA,YAA2CI,OAAOQ,MAAA,MAAaC,YAAAhB,EAAAiB,KAAsBC,IAAA,UAAAC,GAAA,WAA4B,OAAAhB,EAAA,QAAAH,EAAAc,GAAAd,EAAAoB,GAAApB,EAAA7B,UAA8CkD,OAAA,IAAY,sBAAyBrB,EAAAsB,KAAAtB,EAAAc,GAAA,KAAAX,EAAA,OAAiCE,aAAaC,OAAA,UAAiBH,EAAA,cAAmBI,OAAOC,MAAA,GAAAC,MAAA,GAAAC,KAAA,QAAoCC,IAAKC,MAAA,SAAAC,GAAyB,OAAAb,EAAA3B,kBAA2B2B,EAAAc,GAAA,uBAEx9BS,oBCqBjBC,EAvBUrE,EAAQ,OAcjCsE,CACE7D,EACAkC,GATF,EAEA,KAEA,KAEA,MAUgC,QCfhCvC,IAAImE,IAAIC,KACRpE,IAAImE,IAAIE,KAER,IAAIrE,KACFwC,OAAQ,SAAA8B,GAAA,OAAKA,EAAEjE,IAChBF,YACEoE,OAAO","file":"static/js/location.64a1affce7350a3c5b5e.js","sourcesContent":["/*引入Vue框架*/\r\nimport Vue from 'vue';\r\n/*引入资源请求插件*/\r\nimport axios from 'axios';\r\n\r\n/*使用axios插件*/\r\nVue.prototype.$axios = axios;\r\nexport default({\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/axios/index.js","<template>\n  <!-- begin:: Page -->\n  <div>\n    <div style=\"margin: 16px;\">\n      <van-button round block type=\"info\" @click=\"getLocation()\"\n        >获取定位</van-button\n      >\n    </div>\n    <van-cell-group>\n      <van-cell title=\"经度\">\n        <template #default>\n          <span>{{ latitude }}</span>\n        </template>\n      </van-cell>\n      <van-cell title=\"纬度\">\n        <template #default>\n          <span>{{ longitude }}</span>\n        </template>\n      </van-cell>\n      <van-cell v-if=\"showErr\" title=\"错误\">\n        <template #default>\n          <span>{{ err }}</span>\n        </template>\n      </van-cell>\n      <div style=\"margin: 16px;\">\n        <van-button round block type=\"info\" @click=\"getLocation()\"\n          >扫码签到</van-button\n        >\n      </div>\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\nimport jsQR from \"jsqr\";\nimport Quagga from \"quagga\";\nexport default {\n  name: \"Home\",\n  components: {},\n  data() {\n    return {\n      showErr: false,\n      latitude: \"\",\n      longitude: \"\",\n      err: \"\"\n    };\n  },\n  // mounted() {\n  //   //  if(this.$cookies.get(\"usid\") === null) {\n  //   //    window.location.href = '/';\n  //   //  }\n  // },\n\n  methods: {\n    getLocation() {\n      this.$getLocation()\n        .then(res => {\n          console.warn(\"首页获取位置成功\", res);\n          this.latitude = res.lat;\n          this.longitude = res.lng;\n          // 这里根据获取到的经纬度请求后台接口...\n        })\n        .catch(err => {\n          console.error(\"首页获取位置失败\", err);\n          // 错误处理\n        });\n\n      // HTML5方法\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n          this.showPosition,\n          this.showError\n        );\n      } else {\n        this.err = \"Geolocation is not supported by this browser.\";\n        console.log(\"此浏览此不支持定位\");\n        this.showErr = true;\n      }\n    },\n    showPosition(position) {\n      this.latitude = position.coords.latitude;\n      this.longitude = position.coords.longitude;\n      this.showErr = false;\n      // this.location = true;\n    },\n    showError(error) {\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          console.log(\"User denied the request for Geolocation.\");\n          this.err = \"定位权限获取失败\";\n          break;\n        case error.POSITION_UNAVAILABLE:\n          console.log(\"Location information is unavailable.\");\n          this.err = \"定位信息获取失败\";\n          break;\n        case error.TIMEOUT:\n          console.log(\"The request to get user location timed out.\");\n          this.err = \"获取定位超时\";\n          break;\n        case error.UNKNOWN_ERROR:\n          console.log(\"An unknown error occurred.\");\n          this.err = \"发生未知错误\";\n          break;\n      }\n      this.showErr = true;\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/locate/Location.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.getLocation()}}},[_vm._v(\"获取定位\")])],1),_vm._v(\" \"),_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"经度\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.latitude))])]},proxy:true}])}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"纬度\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.longitude))])]},proxy:true}])}),_vm._v(\" \"),(_vm.showErr)?_c('van-cell',{attrs:{\"title\":\"错误\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.err))])]},proxy:true}],null,false,4277965029)}):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.getLocation()}}},[_vm._v(\"扫码签到\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42cfdbfc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/locate/Location.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Location.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Location.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42cfdbfc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Location.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/locate/Location.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport axios from '@/axios';\nimport Vant from 'vant';\nimport 'vant/lib/index.css';\nimport vueCookies from 'vue-cookies'\nimport Location from './Location.vue'\n\n\nVue.use(vueCookies);\nVue.use(Vant);\n\nnew Vue({\n  render: h => h(Location),\n\taxios\n}).$mount('#app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/locate/location.js"],"sourceRoot":""}