webpackJsonp([4],{"4ml/":function(e,t){},eOoE:function(e,t,o){"use strict";var n=o("7+uW"),r=o("mtWM"),s=o.n(r);n.a.prototype.$axios=s.a,t.a={}},qpkJ:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),r=o("eOoE"),s=o("Fd2+"),i=(o("4ml/"),o("ppUw")),a=o.n(i),c=o("SHZo"),u={name:"Home",components:{},data:function(){return{showErr:!1,latitude:"",longitude:"",err:"",result:""}},mounted:function(){},methods:{wxScanCode:function(){this.$axios({method:"post",url:"/proxy/raptorCustomerServer/service/weChatPublicNumber/test/getTicketSignature.do",data:{url:location.href.split("#")[0]}}).then(function(e){var t=e.data.data;console.log(t),c.a.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["scanQRCode"]}),c.a.ready(function(){c.a.checkJsApi({jsApiList:["scanQRCode"],success:function(e){!0===e.checkResult.scanQRCode?c.a.scanQRCode({desc:"scanQRCode desc",needResult:0,scanType:["qrCode","barCode"],success:function(e){e.resultStr;this.data.result=e}}):alert("抱歉，当前客户端版本不支持扫一扫")},fail:function(e){alert("fail"+e)}})}),c.a.error(function(e){alert("配置验证失败: "+e.errMsg)})})},getLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):(this.err="Geolocation is not supported by this browser.",console.log("此浏览此不支持定位"),this.showErr=!0)},showPosition:function(e){this.latitude=e.coords.latitude,this.longitude=e.coords.longitude,this.showErr=!1},showError:function(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation."),this.err="定位权限获取失败";break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable."),this.err="定位信息获取失败";break;case e.TIMEOUT:console.log("The request to get user location timed out."),this.err="获取定位超时";break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred."),this.err="发生未知错误"}this.showErr=!0}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticStyle:{margin:"16px"}},[o("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:function(t){return e.wxScanCode()}}},[e._v("扫描二维码")])],1)])},staticRenderFns:[]},d=o("VU/8")(u,l,!1,null,null,null).exports;n.a.prototype.wx=c.a,n.a.use(a.a),n.a.use(s.a),new n.a({render:function(e){return e(d)},axios:r.a}).$mount("#app")}},["qpkJ"]);
//# sourceMappingURL=location.07a05d4108f81e11c362.js.map